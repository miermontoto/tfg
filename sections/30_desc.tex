\chapter{Descripción general del proyecto}\label{chap:desc}
Esta sección describe el proyecto en términos generales, incluyendo una
descripción de los problemas que se pretenden resolver, las partes interesadas
en el proyecto y una valoración de las alternativas consideradas.


\section{Partes interesadas (\textit{stakeholders})}\label{sec:stakeholders}
Las partes interesadas en el proyecto son aquellas personas o entidades que
tienen un interés en el mismo, ya sea porque se ven afectadas por el resultado
del proyecto, o porque tienen algún tipo de interés en el mismo. Las partes
interesadas en este proyecto son las siguientes:

\begin{enumerate}
	\item \textbf{Okticket:} la empresa es la principal parte interesada en el
		proyecto, ya que es la que se beneficiará directamente de los resultados
		del mismo, así como de las oportunidades de negocio que se abren con la
		explotación de los datos. Dentro de la empresa, se pueden identificar
		varias entidades afectadas:
		\begin{itemize}
			\item \textbf{Equipo de desarrollo:} son los
				encargados de llevar a cabo la implementación del sistema y de
				garantizar su correcto funcionamiento, además de gestionar el
				soporte de servicio a nivel técnico.
			\item \textbf{Equipo de soporte:} el sistema planteado
				ahorraría tiempo al equipo de soporte, ya que les permitiría
				analizar los datos de forma más eficiente e identificar
				problemas antes de que tener que resolver las peticiones de los
				clientes afectados a nivel básico.
			\item \textbf{Equipo de negocio:} afectado porque permitirá tomar
				mejores decisiones estratégicas, definir y seguir métricas de
				seguimiento de los objetivos.
			\item \textbf{Éxito de clientes:} afectado porque le
				permitirá evaluar mejor a qué clientes dar seguimiento, mejorar
				el seguimiento, identificar oportunidades de \textit{upselling}
				\ldots
			\item \textbf{Equipo de operaciones:} afectado porque les permitirá
				hacer un mejor seguimiento de las operaciones y procesos de la
				empresa.
		\end{itemize}
	\item \textbf{Clientes}: se beneficiarán de los nuevos servicios que se
		ofrecen, como los dashboards de negocio que se han descrito
		anteriormente. Estos clientes no son necesariamente los usuarios
		finales, sino los administradores y gestores de las empresas que
		utilizan Okticket como herramienta de gestión de gastos.
	\item \textbf{Investigador y desarrollador (\emph{\author}):} el
		desarrollador del proyecto tiene la oportunidad de aplicar los
		conocimientos adquiridos en el desarrollo de un proyecto real, y de
		adquirir nuevos conocimientos en el proceso.
\end{enumerate}


\section{Alternativas existentes}\label{sec:alternativas}
Antes de comenzar la planificación y el desarrollo del proyecto, se consideran
varias opciones ya existentes en el mercado que podrían resolver o adaptarse a
las necesidades planteadas.

% TODO: explicar el proceso de selección de alternativas


\subsection{Criterios de evaluación}
Los puntos claves a considerar de cada alternativa son los siguientes:

\begin{itemize}
	\item \textbf{Coste:} se dará prioridad a alternativas gratuitas, siempre
		que su coste de operación y mantenimiento no sea excesivo.
	\item \textbf{Complejidad:} se priorizarán aquellas alternativas que
		sean sencillas y no requieran una curva de aprendizaje excesiva para
		su implementación y uso.
	\item \textbf{Rendimiento y escalabilidad:} a la hora de manejar los
		volúmenes de datos con los que se están tratando, el sistema debe
		responder positivamente tanto a la ingesta, tratamiento y visualización
		como a la escalabilidad del mismo.
	\item \textbf{Licencias:} se priorizará el software de código abierto con el
		el objetivo de reducir el \textit{vendor lock-in} y permitir una mayor
		flexibilidad y personalización del sistema sin coste de uso.
\end{itemize}


\newpage{}
\subsection{Alternativas consideradas}
Para este proyecto, el análisis de alternativas se realiza en torno a las
herramientas y tecnologías disponibles en el mercado para la gestión de datos en
base a los criterios establecidos anteriormente. A continuación, se describen
las alternativas consideradas destacando puntos a favor, en contra y unas
breves conclusiones, además de una valoración final de las mismas.


\subsubsection{Elasticsearch, Logstash, Kibana (ELK)}
La pila ELK es una solución de código abierto que combina tres herramientas
diferentes: \textit{Elasticsearch}, \textit{Logstash} y \textit{Kibana}. Este
\textit{stack} tecnológico es ampliamente utilizado en la industria para la
gestión de logs y métricas, y ofrece una solución integral para la recopilación,
almacenamiento, búsqueda y visualización de datos.

\paragraph{Elasticsearch} es un motor de búsqueda y análisis de código abierto
que permite almacenar, buscar y analizar grandes volúmenes de datos de forma
rápida y eficiente.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/elastic.png}
	\caption{Logo de Elasticsearch~\textregistered}
\end{figure}

\paragraph{Logstash} es una herramienta de procesamiento de logs que permite
recopilar, transformar y enviar logs de diferentes fuentes a Elasticsearch para
su análisis.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/logstash.png}
	\caption{Logo de Logstash~\textregistered}
\end{figure}

\paragraph{Kibana} es una plataforma de visualización de datos que permite
crear dashboards interactivos y visualizaciones de datos a partir de los datos
almacenados en Elasticsearch.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/kibana.png}
	\caption{Logo de Kibana~\textregistered}
\end{figure}

Juntas, estas herramientas forman una solución integral para la
gestión de logs y métricas, que permite a las empresas consolidar, monitorizar y
analizar datos de diferentes fuentes en tiempo real.

La principal ventaja de esta solución es su flexibilidad y capacidad de
personalización, que permite adaptarla a las necesidades específicas de cada
empresa. Además, al tratarse de herramientas de código abierto, la pila ELK es
una opción asequible y escalable que se adapta a las necesidades de la empresa.

En cuestión a la complejidad, la pila ELK puede resultar más compleja de
configurar y mantener en comparación con otras soluciones al requerir múltiples
componentes y una configuración detallada. Sin embargo, la comunidad activa y
los recursos disponibles pueden ayudar a superar estos desafíos.

Una desventaja de la pila ELK es su curva de aprendizaje, que puede ser
pronunciada para aquellos que no están familiarizados con las herramientas. Sin
embargo, una vez superada esta curva, la pila ELK ofrece una solución potente y
flexible para la gestión de información.


\subsubsection{Elasticsearch, Fluentd, Kibana (EFK)}
La pila EFK es una alternativa a la pila ELK que sustituye Logstash por
\textit{Fluentd}, una herramienta de código abierto para la recopilación y
procesamiento de logs. Al igual que Logstash, Fluentd permite recopilar logs de
diferentes fuentes y enviarlos a Elasticsearch para su análisis.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/fluentd.png}
	\caption{Logo de Fluentd~\textregistered}
\end{figure}

Este \textit{stack} de tecnologías es muy similar a la alternativa anterior con
la diferencia de que está enfocado a su ejecución en entornos
\textit{Kubernetes}\footnote{\href
	{https://medium.com/@tech_18484/simplifying-kubernetes-logging-with-efk-stack-158da47ce982}
	{Simplifying Kubernetes Logging with EFK Stack}
} \footnote{\href
	{https://www.digitalocean.com/community/tutorials/how-to-set-up-an-elasticsearch-fluentd-and-kibana-efk-logging-stack-on-kubernetes}
	{How To Set Up an Elasticsearch, Fluentd and Kibana (EFK) Logging Stack on Kubernetes}
}, lo que puede ser incompatible con las necesidades de este
proyecto.


\newpage{}
\subsubsection{Graylog + Prometheus}
Esta combinación de herramientas es una alternativa interesante para la gestión
de datos en entornos de producción. Graylog es una plataforma de
gestión de logs de código abierto que permite centralizar, monitorizar y
analizar logs de diferentes fuentes. Por otro lado, Prometheus es un sistema de
monitorización y alertas de código abierto que se centra en la recopilación de
métricas de sistemas y aplicaciones.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/graylog.png}
	\caption{Logo de Graylog~\textregistered}
\end{figure}

En este documento se tratan de manera combinada porque, aunque son herramientas
independientes, su integración es una solución completa que se está volviendo
popular en el sector. Graylog se encarga de la gestión de logs, mientras que
Prometheus se encarga de la recopilación de métricas y alertas.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/prometheus.png}
	\caption{Logo de Prometheus~\textregistered}
\end{figure}

La combinación de Graylog y Prometheus ofrece varios beneficios, como la
centralización de información que facilita un análisis más integral y
eficiente de los datos. Además, la mejora en la monitorización a través de las
capacidades avanzadas de Prometheus, integradas con Graylog, mejora la detección
de problemas y la respuesta a incidentes en tiempo real. Esta integración
también proporciona flexibilidad y escalabilidad, adaptándose a las necesidades
específicas de cada entorno de producción. Sin embargo, existen desventajas como
la complejidad de configuración al integrar dos sistemas independientes, lo que
puede resultar en un mayor esfuerzo en mantenimiento y gestión. Además, al
tratarse de herramientas novedosas, supondría una mayor curva de aprendizaje
para el equipo de desarrollo a la hora de tratar con las herramientas.


\newpage{}
\subsubsection{Loki}
Loki es una herramienta de gestión de logs desarrollada por Grafana Labs,
diseñada específicamente para ser altamente eficiente y escalable. A diferencia
de otras soluciones de gestión de datos, Loki no indexa el contenido completo de
estos, sino que se centra en los metadatos, lo que reduce significativamente
los requisitos de almacenamiento y mejora el rendimiento.

Al estar creado por Grafana Labs, Loki se integra de forma nativa con Grafana,
lo que facilita la visualización y análisis de los datos de logs en tiempo real.
Además, está inspirado en Prometheus y pensado para utilizar con
\textit{Kubernetes}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/loki.png}
	\caption{Logo de Loki~\textregistered}
\end{figure}

\paragraph{Ventajas}
\begin{itemize}
    \item \textbf{Integración con Grafana:} Una de las principales ventajas de
		Loki es su integración nativa con Grafana, una popular plataforma de
		visualización de datos. Esto permite a los usuarios crear paneles de
		control y alertas basados en los datos de logs de manera sencilla y
		eficiente.
    \item \textbf{Eficiencia en el almacenamiento:} Al no indexar el contenido
		completo de los logs, Loki reduce significativamente los requisitos de
		almacenamiento. Esto lo hace una opción más económica y eficiente en
		comparación con otras soluciones.
    \item \textbf{Escalabilidad:} Loki está diseñado para ser altamente
		escalable, lo que permite manejar grandes volúmenes de datos de logs sin
		comprometer el rendimiento.
    \item \textbf{Simplicidad en la configuración:} La configuración de Loki es
		relativamente sencilla, especialmente para aquellos que ya están
		familiarizados con Grafana y Prometheus. Esto facilita su adopción y
		despliegue en entornos de producción.
\end{itemize}

\newpage{}
\paragraph{Desventajas}
\begin{itemize}
    \item \textbf{Limitaciones en la búsqueda:} Al no indexar el contenido
		completo de los logs, las capacidades de búsqueda de Loki son más
		limitadas en comparación con otras herramientas como Elasticsearch.
		Esto puede ser una desventaja en caso de necesitar realizar búsquedas
		complejas y detalladas.
    \item \textbf{Ecosistema en desarrollo:} Aunque Loki ha ganado popularidad
		rápidamente, su ecosistema y comunidad de usuarios aún están en
		desarrollo. Esto puede limitar el acceso a recursos y soporte en
		comparación con soluciones más maduras.
    \item \textbf{Dependencia de Grafana:} Si bien la integración con Grafana es
		una ventaja, es un factor limitante para aquellos que no utilicen
		Grafana, como es el caso de Okticket, al tener que adaptarse a un
		ecosistema diferente.
\end{itemize}

En resumen, Loki es una solución eficiente y escalable para la gestión de datos,
especialmente adecuada para aquellos que ya utilizan Grafana. Sin embargo, sus
limitaciones en la búsqueda y su ecosistema en desarrollo son factores a
considerar antes de su implementación.


\newpage
\subsubsection{Loggly, Splunk (SaaS de gestión de logs)}
Ambas herramientas se centran en la gestión y análisis de logs basada en la nube,
permitiendo centralizar, monitorizar y analizar datos de logs en tiempo real.
Diseñadas para simplificar la gestión de logs, las dos alternativas ofrecen una
interfaz intuitiva y potentes capacidades de búsqueda y visualización que
facilitan la identificación y resolución de problemas en los sistemas y
aplicaciones.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/loggly.png}
	\caption{Logo de Loggly~\textregistered}
\end{figure}

Una de las principales ventajas de este tipo de herramientas es su capacidad
para integrarse con una amplia variedad de servicios y plataformas, lo que
permite a las empresas consolidar sus datos de logs en un único lugar. Además,
suelen ofrecer algún sistema de alertas en tiempo real y paneles de control
personalizables, lo que encaja muy bien con algunos de los requisitos de este
proyecto.

Sin embargo, también presentan algunas desventajas que entran en conflicto con
los intereses descritos anteriormente. En primer lugar, al tratarse de
servicios enfocados en el tratamiento exclusivo de logs, podrían no acomodar
algunos de los requisitos esenciales, como la ingesta de las bases de datos
propias de la empresa.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{logos/splunk.png}
	\caption{Logo de Splunk~\textregistered}
\end{figure}

Otra posible limitación es su sistema de precios; estas herramientas cuentan con
una jerarquía de suscripciones que limita mucho su escalabilidad y aumentaría
rápidamente los costes de su uso en caso de llegar a depender de ellas,
incumpliendo así los criterios de coste y licencias.

\newpage{}
En resumen, aunque tanto Loggly como Splunk o cualquier otro SaaS similar
sean soluciones robustas y eficientes para la gestión de logs, sus posibles
costes adicionales, junto con sus limitaciones en el análisis de datos de
inteligencia de negocio, las convierten en opciones menos atractivas para el
desarollo de este proyecto.


\subsection{Conclusiones}
Tras evaluar las alternativas consideradas, se concluye que \textbf{ninguna de
las alternativas comerciales} se ajusta completamente a los requisitos y
necesidades del proyecto. Si bien todas ellas ofrecen capacidades de gestión de
logs y métricas, ninguna de ellas proporciona una solución integral que cumpla
con los requisitos de integración, visualización y análisis de datos de negocio
de Okticket.

Por lo tanto, se considera que la mejor opción es desarrollar una solución
personalizada que se adapte a las necesidades específicas de la empresa. Esta
solución permitirá a Okticket consolidar y analizar datos de múltiples fuentes,
así como crear dashboards de negocio personalizados que faciliten la toma de
decisiones y la identificación de oportunidades de negocio.

Desde un principio, la empresa considera que el desarrollo junto a un
\textit{stack ELK} es la mejor opción para el desarrollo de este proyecto.
Aunque se considera que la integración de Prometheus y Grafana es una
alternativa interesante, se opta por la solución de \textit{stack ELK} debido a
su mayor flexibilidad y capacidad de personalización.

Además de la pila de \textit{Elastic}, se analizará más adelante la posibilidad
de integrar otras herramientas y tecnologías que puedan mejorar la eficiencia y
escalabilidad del sistema, como Kafka, Spark o Flink, entre otras.


\newpage{}
\section{Descripción del proyecto}\label{sec:descripcion}
% TODO: describir el proyecto en términos generales.
% 		debe quedar claro que el usuario puede hacer muchos despliegues y qué es
% 		lo que se despliega (aunque no se sepa qué clústeres, nodos, etc.) ni
% 		las tecnologías de despliegue ni análisis. Se tiene que describir qué
%		desplegar. También tiene que verse qué usuarios hay y su rol. Quizás
%		haya un ingeniero de datos que desliega y un analista de datos que lo
%		utiliza.
%
%		Esto suele quedar bien en forma de gráfico con una serie de procesos
%		(ej. desplegar, ...) o como un stakck Proveedor en la nube, por encima
%		un sistema BigData... Puede que incluso sirva de inspiración el apartado
%		\ref{sec:alternativas}.

\subsection{Dashboards planteados}
Para el sistema que se describe, se plantean dos tipos de dashboards diferentes:

\begin{itemize}
	\item \textbf{Dashboards internos:} que reflejan el rendimiento de la
		plataforma en tiempo real. Estos dashboards están destinados al uso
		interno de la empresa, y permiten a los empleados monitorizar el
		rendimiento de la plataforma y tomar decisiones informadas sobre su
		mantenimiento y evolución.
	\item \textbf{Dashboards externos:} que reflejan el rendimiento de las
		ventas y permiten a los clientes tomar decisiones informadas sobre su
		negocio. Estos dashboards están enfocados a los clientes de la empresa,
		y permite a los mismos obtener información relevante sobre su negocio
		que tenga Okticket.
\end{itemize}
